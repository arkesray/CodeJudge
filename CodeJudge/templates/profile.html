{% extends "layout.html" %}


{% block content %}
<div class="container">
    <div class="row">
    <div class="col-md-3">
        <div style="margin-top: 100px;"></div>
            <div class="panel panel-default">
                <div class="panel-heading" style="font-weight: bold;">
                        Welcome to Codathon 
                </div>
            </div>
    </div>
    <div class = "col-md-6">
        <div class="panel panel-default">
            <div class="panel-heading">
                <h2><div class="text-center"><strong>{{ name }}</strong></div></h2>
            </div>
            
            <div class="panel-body">
                <ul class="list-group">
                    {% for i in range(problems) %}
                    <li class="list-group-item"><a href="{{ url_for('p', number=i+1) }}" class="btn btn-light col-sm-12">Problem {{i + 1}}</a></li>
                    {%endfor%}
                </ul>
            </div>
        </div>
    </div>
    <div class="col-md-3">
        <div class="panel panel-default">
            <div class="panel-heading">
                <div class="text-center"><h2>Time Remaining </h2></div>
            </div>
            <div class="panel-body">


                <!-- Display the countdown timer in an element -->
                <div class="text-center"><h2 id="demo" class="btn btn-danger btn-lg"></h2></div>
            </div>
        </div>
    </div>
</div>
</div>

<script type="text/javascript">
    
    // Back button Solution
    if(performance.navigation.type == 2){
   location.reload(true);
    }

    // Set the date we're counting down to
    var countDownDate = {{time}};
    var timeMs = countDownDate;
    // Update the count down every 1 second
    var x = setInterval(function () {

        // Find the distance between now and the count down date
        timeMs = timeMs - 1000;
    var distance = timeMs;

        // Time calculations for hours, minutes and seconds
        var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
        var seconds = Math.floor((distance % (1000 * 60)) / 1000);

        // Display the result in the element with id="demo"
        document.getElementById("demo").innerHTML = hours + "h " + minutes + "m " + seconds + "s ";

        // If the count down is finished, write some text
        if (distance < 0) {
            clearInterval(x);
            document.getElementById("demo").innerHTML = "EXPIRED";
        }
    }, 1000);
</script>
{% endblock %}


